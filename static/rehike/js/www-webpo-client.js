(function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var g=0;return function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.makeIterator=function(d){var g="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];if(g)return g.call(d);if("number"==typeof d.length)return $jscomp.arrayIterator(d);throw Error(String(d)+" is not an iterable or ArrayLike");};$jscomp.ASSUME_ES5=!1;
$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.getGlobal=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var g=0;g<d.length;++g){var h=d[g];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,h){if(d==Array.prototype||d==Object.prototype)return d;d[g]=h.value;return d};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";
var $jscomp$lookupPolyfilledValue=function(d,g,h){if(!h||null!=d){h=$jscomp.propertyToPolyfillSymbol[g];if(null==h)return d[g];h=d[h];return void 0!==h?h:d[g]}};$jscomp.polyfill=function(d,g,h,m){g&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(d,g,h,m):$jscomp.polyfillUnisolated(d,g,h,m))};
$jscomp.polyfillUnisolated=function(d,g,h,m){h=$jscomp.global;d=d.split(".");for(m=0;m<d.length-1;m++){var e=d[m];if(!(e in h))return;h=h[e]}d=d[d.length-1];m=h[d];g=g(m);g!=m&&null!=g&&$jscomp.defineProperty(h,d,{configurable:!0,writable:!0,value:g})};
$jscomp.polyfillIsolated=function(d,g,h,m){var e=d.split(".");d=1===e.length;m=e[0];m=!d&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<e.length-1;q++){var a=e[q];if(!(a in m))return;m=m[a]}e=e[e.length-1];h=$jscomp.IS_SYMBOL_NATIVE&&"es6"===h?m[e]:null;g=g(h);null!=g&&(d?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:g}):g!==h&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(h=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+h+"$"+e),$jscomp.defineProperty(m,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:g})))};
$jscomp.polyfill("Promise",function(d){function g(){this.batch_=null}function h(a){return a instanceof e?a:new e(function(f,k){f(a)})}if(d&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return d;g.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var f=this;this.asyncExecuteFunction(function(){f.executeBatch_()})}this.batch_.push(a)};
var m=$jscomp.global.setTimeout;g.prototype.asyncExecuteFunction=function(a){m(a,0)};g.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var f=0;f<a.length;++f){var k=a[f];a[f]=null;try{k()}catch(n){this.asyncThrow_(n)}}}this.batch_=null};g.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var f=this.createResolveAndReject_();
try{a(f.resolve,f.reject)}catch(k){f.reject(k)}};e.prototype.createResolveAndReject_=function(){function a(n){return function(b){k||(k=!0,n.call(f,b))}}var f=this,k=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var f=null!=a;break a;case "function":f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(a):
this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var f=void 0;try{f=a.then}catch(k){this.reject_(k);return}"function"==typeof f?this.settleSameAsThenable_(f,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,f){if(0!=this.state_)throw Error("Cannot settle("+a+", "+f+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=f;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};e.prototype.scheduleUnhandledRejectionCheck_=function(){var a=this;m(function(){if(a.notifyUnhandledRejection_()){var f=$jscomp.global.console;"undefined"!==typeof f&&f.error(a.result_)}},1)};e.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var a=$jscomp.global.CustomEvent,f=$jscomp.global.Event,k=$jscomp.global.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof a?a=new a("unhandledrejection",{cancelable:!0}):
"function"===typeof f?a=new f("unhandledrejection",{cancelable:!0}):(a=$jscomp.global.document.createEvent("CustomEvent"),a.initCustomEvent("unhandledrejection",!1,!0,a));a.promise=this;a.reason=this.result_;return k(a)};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)q.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var q=new g;e.prototype.settleSameAsPromise_=function(a){var f=this.createResolveAndReject_();
a.callWhenSettled_(f.resolve,f.reject)};e.prototype.settleSameAsThenable_=function(a,f){var k=this.createResolveAndReject_();try{a.call(f,k.resolve,k.reject)}catch(n){k.reject(n)}};e.prototype.then=function(a,f){function k(l,p){return"function"==typeof l?function(r){try{n(l(r))}catch(t){b(t)}}:p}var n,b,c=new e(function(l,p){n=l;b=p});this.callWhenSettled_(k(a,n),k(f,b));return c};e.prototype["catch"]=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,f){function k(){switch(n.state_){case 1:a(n.result_);
break;case 2:f(n.result_);break;default:throw Error("Unexpected state: "+n.state_);}}var n=this;null==this.onSettledCallbacks_?q.asyncExecute(k):this.onSettledCallbacks_.push(k);this.isRejectionHandled_=!0};e.resolve=h;e.reject=function(a){return new e(function(f,k){k(a)})};e.race=function(a){return new e(function(f,k){for(var n=$jscomp.makeIterator(a),b=n.next();!b.done;b=n.next())h(b.value).callWhenSettled_(f,k)})};e.all=function(a){var f=$jscomp.makeIterator(a),k=f.next();return k.done?h([]):new e(function(n,
b){function c(r){return function(t){l[r]=t;p--;0==p&&n(l)}}var l=[],p=0;do l.push(void 0),p++,h(k.value).callWhenSettled_(c(l.length-1),b),k=f.next();while(!k.done)})};return e},"es6","es3");$jscomp.owns=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(d,g){for(var h=1;h<arguments.length;h++){var m=arguments[h];if(m)for(var e in m)$jscomp.owns(m,e)&&(d[e]=m[e])}return d};
$jscomp.polyfill("Object.assign",function(d){return d||$jscomp.assign},"es6","es3");
(function(d){window.rehike?d():(window._rehikeCoreDelayLoadModules=window._rehikeCoreDelayLoadModules||[],window._rehikeCoreDelayLoadModules.push(function(){window.rehike&&d()}))})(function(){function d(){h.apply(this,arguments);throw Error.apply(this,arguments);}function g(){h.apply(this,arguments);return Promise.reject(arguments[0])}function h(b){var c=[].slice.call(arguments);c=["[Rehike.WebPoClient]"].concat(c);console.error.apply(this,c)}function m(b){var c=[].slice.call(arguments);c=["[Rehike.WebPoClient]"].concat(c);
console.log.apply(this,c)}function e(b){b=f.test(b)?b.replace(f,function(p){return k[p]}):b;b=atob(b);for(var c=new Uint8Array(b.length),l=0;l<b.length;l++)c[l]=b.charCodeAt(l);return c}function q(b,c){void 0===c&&(c=!1);for(var l="",p=0;p<b.length;p++)l+=String.fromCharCode(b[p]);l=btoa(l);return c?l.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):l}rehike.webpo=window.rehike&&window.rehike.webpo||{};var a=rehike.webpo,f=/[-_.]/g,k={"-":"+",_:"/",".":"="};a.botguard={};a.botguard.initialized=
!1;a.botguard.api=null;a.botguard.integrityToken=null;a.botguard.isCacheSufficient=function(){return a.botguard.initialized&&a.botguard.integrityToken};a.botguard.getClient=function(){if(a.botguard.api)return Promise.resolve(a.botguard.api);if(!yt||!yt.config_)return g("Called too early.");if(!("REHIKE_ATT"in yt.config_))return g("Unable to create the botguard client. Missing yt.config_.REHIKE_ATT.");var b=yt.config_.REHIKE_ATT;return a.botguard.runBotguardScript_(b.bgChallenge).then(function(c){c=
a.botguard.wrapBotguardInterface_(c,b);a.botguard.api=c;rehike.pubsub.publish("webpo-botguard-vm-api-available",c);return c})};a.botguard.getIntegrityTokenContext=function(){return a.botguard.integrityToken?Promise.resolve(a.botguard.integrityToken):a.botguard.generateIntegrityTokenContext()};a.botguard.generateIntegrityTokenContext=function(){var b=[];return a.botguard.getClient().then(function(c){return new Promise(function(l){c.vmFunctions.asyncSnapshotFunction(function(p){l({botguardResponse:p,
webPoSignalOutput:b})},[,,b])})}).then(function(c){return fetch("https://jnn-pa.googleapis.com/$rpc/google.internal.waa.v1.Waa/GenerateIT",{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":"AIzaSyDyT5W0Jh49F30Pqqtyfdf7pDLFKLJoAnw","x-user-agent":"grpc-web-javascript/0.1",Accept:"*/*"},body:JSON.stringify(["O43z0dpjhgX20SCx4KAo",c.botguardResponse]),credentials:"omit"})}).then(function(c){c.ok||d("Failed GenerateIT request.");return c.json()}).then(function(c){c={integrityTokenResponse:c,
webPoSignalOutput:b};a.botguard.integrityToken=c;rehike.pubsub.publish("webpo-integrity-token-generated",c);return c})};a.botguard.runBotguardScript_=function(b){if(!("globalName"in window)){var c=document.createElement("script");c.src=b.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue;c.id=b.interpreterHash;return new Promise(function(l,p){c.onload=function(){setTimeout(function(){c.remove()},0);return a.botguard.checkClientExists_(b.globalName,l)};document.head.appendChild(c)})}return Promise.resolve(window[b.globalName])};
a.botguard.checkClientExists_=function(b,c){if(b in window)return m("BotGuard client exists:",b,window[b]),a.botguard.initialized=!0,rehike.pubsub.publish("webpo-botguard-initialized"),c(window[b]);setTimeout(function(){a.botguard.checkClientExists_(b,c)},1200)};a.botguard.wrapBotguardInterface_=function(b,c){var l=c.challenge,p={},r=b.a(c.bgChallenge.program,function(v,w,x,y){Object.assign(p,{asyncSnapshotFunction:v,shutdownFunction:w,passEventFunction:x,checkCameraFunction:y})},!0,void 0,function(){},
[[],[]])[0],t=[],u=r([,,t]);u&&u.indexOf("$")&&(u=null);return{notBoundResponse:u,challenge:l,webPoSignalOutput:t,syncSnapshotFunction:r,vmFunctions:p}};a.PoTokenMinter=function(){};a.PoTokenMinter.prototype.initialized=!1;a.PoTokenMinter.prototype.integrityToken=null;a.PoTokenMinter.prototype.postProcessFunctions=null;a.PoTokenMinter.prototype.acquirePo=null;a.PoTokenMinter.prototype.initialize=function(){var b=this;return a.botguard.getClient().then(function(c){return a.botguard.getIntegrityTokenContext()}).then(function(c){b.integrityToken=
c.integrityTokenResponse[0];b.postProcessFunctions=c.webPoSignalOutput;b.postProcessFunctions&&b.postProcessFunctions[0]||d("No postprocessing function found in webPoSignalOutput.");c=b.postProcessFunctions[0];var l=e(b.integrityToken);c=c(l);"function"!==typeof c&&d("acquirePo is not a function.");b.acquirePo=c;b.initialized=!0})};a.PoTokenMinter.prototype.mintAsU8Array=function(b,c){c||(c=!1);if(!this.initialized)throw Error("The WebPO token minter is not yet initialised.");var l=(new TextEncoder).encode(b);
l=this.acquirePo(l);c||m("Generated POT (as U8 array):",q(l,!0));return l};a.PoTokenMinter.prototype.mint=function(b){b=q(this.mintAsU8Array(b,!0),!0);m("Generated POT:",b);return b};var n=Promise.resolve();a.WebPoClient=function(){this.minter=new a.PoTokenMinter};a.WebPoClient.prototype.initialize=function(){return this.minter.initialize()};a.WebPoClient.prototype.minter=null;a.WebPoClient.prototype.c=function(b){return!0};a.WebPoClient.prototype.f=function(b){return n};a.WebPoClient.prototype.m=
function(){if(args.mc)return this.minter.mintAsU8Array(args.c);throw Error("Unhandled case.");};a.WebPoClient.prototype.mws=function(b){if(b.mc)return this.minter.mint(b.c);throw Error("Unhandled case.");};a.s_webpoClient=new a.WebPoClient;"havuokmhhs-0"in window||(window["havuokmhhs-0"]={bevasrs:{wpc:function(){return Promise.all([new Promise(function(b,c){a.s_webpoClient.initialized?b():a.s_webpoClient.initialize().then(b)})]).then(function(){return a.s_webpoClient})}}})});})();
